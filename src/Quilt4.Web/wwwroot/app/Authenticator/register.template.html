<div class="row">
    <div class="col-md-8">
        <section>
            <h4>Register</h4>
            <hr />
            <form #f="ngForm" novalidate>
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" class="form-control" name="username" [(ngModel)]="user.username" #username="ngModel" required/>
                    <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
                </div>
                <div class="form-group">
                    <label>E-mail</label>
                    <input type="email" class="form-control" name="email" [(ngModel)]="user.email" #email="ngModel" required pattern="^[a-zA-Z0-9_.+-.]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"/>
                    <small [hidden]="email.valid || (email.pristine && !f.submitted)">
                        Email is required and format should be <i>john@doe.com</i>.
                    </small>
                </div>
                <div class="form-group">
                    <label>Fullname</label>
                    <input type="text" class="form-control" name="fullname" [(ngModel)]="user.fullname" #fullname="ngModel" required pattern=".{6,10}"/>
                    <div *ngIf="f.submitted && !fullname.valid" class="help-block">Fullname</div>
                    <small [hidden]="fullname.valid || (fullname.pristine && !f.submitted)">
                        Fullname is required (minimum 5 characters).
                    </small>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control" name="password" [(ngModel)]="user.password" #password="ngModel" required validateEqual="confirmPassword" reverse="true"/>
                    <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" class="form-control" name="confirmPassword" [(ngModel)]="user.confirmPassword" #confirmPassword="ngModel" required validateEqual="password"/>
                    <small [hidden]="confirmPassword.valid ||  (confirmPassword.pristine && !f.submitted)">
                        Password mismatch
                    </small>
                </div>
                <div class="form-group">
                    <button *ngIf="!loading" class="btn btn-primary" (click)="register()">Register</button>
                    <img *ngIf="loading" src="../../images/loading.gif"/>
                    <a [routerLink]="['']" class="btn btn-link">Cancel</a>
                </div>
            </form>
        </section>
    </div>
</div>
