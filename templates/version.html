<section class="content-header" >
		
	<h1 ng-class="(projectLoading || applicationLoading || versionLoading) ? 'hide' : ''">
		{{application.name}}
		<small>v{{version.name}}</small>
	</h1>

	<ol class="breadcrumb" ng-class="(projectLoading || applicationLoading || versionLoading) ? 'hide' : ''">
		<li><a href="" ui-sref="dashboard"><i class="fa fa-dashboard"></i> Dashboard</a></li>
		<li><a href="" ui-sref="project({projectId: project.id})">{{project.name}}</a></li>
		<li><a href="" ui-sref="project.application({projectId: project.id, applicationId: application.id})">{{application.name}}</a></li>
		<li><a href="" ui-sref="version({projectId: project.id, applicationId: application.id, versionId: version.id})" class="active">{{version.name}}</a></li>
	</ol>
		
</section>

<loading isLoading="{{projectLoading || applicationLoading || versionLoading}}"></loading>

<section class="content" ng-class="(projectLoading || applicationLoading || versionLoading) ? 'hide' : ''">

	<div class="row">
	
		<div class="col-lg-12">
		
			<div class="box box-primary">
			
				<div class="box-header with-border">
					
					<h3 class="box-title">Issue Types</h3>
					
				</div>
				
				<div class="box-body">
							
					<loading isLoading="{{loading}}"></loading>
						
					<div class="table-responsive" ng-class="loading ? 'hide' : ''">
					
						<table class="table table-hover table-striped">
							
							<thead>
		
								<tr>
									
									<th></th>
									<th><a href="" ng-click="orderByField='id'; reverseSort = !reverseSort">Ticket</a></th>
									<th><a href="" ng-click="orderByField='type'; reverseSort = !reverseSort">Type</a></th>
									<th><a href="" ng-click="orderByField='issues'; reverseSort = !reverseSort">Issues</a></th>
									<th><a href="" ng-click="orderByField='level'; reverseSort = !reverseSort">Level</a></th>
									<th><a href="" ng-click="orderByField='last'; reverseSort = !reverseSort">Last Issue</a></th>
									<th>Enviroments</th>
																	
								</tr>
								
							</thead>
								
							<tbody>
								
								<tr ng-repeat="issueType in issueTypes | orderBy:orderByField:reverseSort" class="clickable-row">
								
									<td style="width:56px;">
										
    									<button popover-placement="right" uib-popover="{{issueType.message}}" popover-trigger="focus" type="button" class="btn btn-primary fa fa-comment"></button>
										
									</td>									
									
									<td ui-sref="issueType({projectId: project.id, applicationId: application.id, versionId: version.id, issueTypeId: issueType.id})">{{issueType.id}}</td>									
									<td ui-sref="issueType({projectId: project.id, applicationId: application.id, versionId: version.id, issueTypeId: issueType.id})">{{issueType.type}}</td>									
									<td ui-sref="issueType({projectId: project.id, applicationId: application.id, versionId: version.id, issueTypeId: issueType.id})">{{issueType.issues}}</td>									
									<td ui-sref="issueType({projectId: project.id, applicationId: application.id, versionId: version.id, issueTypeId: issueType.id})">
										<span class="label label-{{issueType.level == 'Warning' ? 'warning' : (issueType.level == 'Error' ? 'danger' : 'primary')}}">{{issueType.level}}</span>
									</td>									
									<td ui-sref="issueType({projectId: project.id, applicationId: application.id, versionId: version.id, issueTypeId: issueType.id})" time="{{issueType.last}}"></td>
									<td ui-sref="issueType({projectId: project.id, applicationId: application.id, versionId: version.id, issueTypeId: issueType.id})">
										<span class="label label-primary enviroment" ng-repeat="enviroment in issueType.enviroments | orderBy:enviroment">{{enviroment}}</span>
									</td>			
								
								</tr>
								
							</tbody>
							
						</table>
						
					</div>			
			
				</div>
				
			</div>
			
		</div>
		
	</div>

</div>